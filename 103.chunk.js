"use strict";(self.webpackChunkwave_sight=self.webpackChunkwave_sight||[]).push([[103],{6952:function(e,t,a){var n=a(7294),s=a(5412),r=a(9655);t.Z=function(e){var t=location.pathname.startsWith("/wave-sight")?location.pathname.substring("/wave-sight".length):location.pathname;return n.createElement(s.Z,{className:"m-3"},e.matches.map((function(a,l){var o=a.route,m=o.path,c=o.breadcrumbName;return a.pathname===t?n.createElement(s.Z.Item,{className:"font-content fs-5 fw-bold",key:l,active:!0},"Detail"===c?e.name:c):n.createElement(s.Z.Item,{className:"font-content fs-5 fw-bold",key:l},n.createElement(r.OL,{to:m},c))})))}},2103:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(7462),s=a(885),r=a(7294),l=a(2599),o=a(4735),m=a(6438),c=a(1054),i=a(9501),d=a(4564),u=a(9704),f=a(1441),b=a(6952),E=a(4051),h=a(1555),p=a(5005),Z=a(2325),g=a(118),w=a(6986),N=a(1341),v=a(4716),x=a(1881),y=a(5622),C=function(e){return y.zU.test(e)},P=function(e){var t=e.onDisplay,a=e.isDisplay,n=e.onFormSubmit,s=e.info.user_id,l=(0,r.useRef)(),o=(0,r.useRef)(),m=(0,r.useRef)(),c=(0,g.Z)(C,"old password"),i=c.value,u=c.message,f=c.isValid,b=c.isConfirm,E=c.onChangeValue,h=c.onBlurValue,Z=(0,g.Z)((function(e){return W(),e!==o.current.value&&C(e)}),"new password"),y=Z.value,P=Z.message,_=Z.isValid,S=Z.isConfirm,B=Z.onChangeValue,T=Z.onBlurValue,V=(0,g.Z)((function(e){return e===l.current.value}),"confirm password"),k=V.value,I=V.message,A=V.isValid,L=V.isConfirm,R=V.onChangeValue,W=V.onBlurValue;return r.createElement(x.Z,{show:a,onHide:t,size:"md","aria-labelledby":"contained-modal-title-vcenter",contentClassName:"bg-light-gray",centered:!0},r.createElement(x.Z.Header,{closeButton:!0},r.createElement(x.Z.Title,{className:"font-title fs-2",id:"contained-modal-title-vcenter"},"Password Change")),r.createElement(x.Z.Body,null,r.createElement(d.Z,{onSubmit:n({user_id:s,oldPassword:i,newPassword:y}),className:"d-flex flex-column"},r.createElement(w.Z,{className:"mb-3",controlId:"formBasicPassword"},r.createElement(N.Z,{className:"font-content fs-5"},"Old Password"),r.createElement(v.Z,{type:"password",placeholder:"input old password",value:i,ref:o,onChange:E,onBlur:h}),r.createElement(d.Z.Text,{className:"text-danger",hidden:f},u)),r.createElement(w.Z,{className:"mb-3",controlId:"formBasicPassword"},r.createElement(N.Z,{className:"font-content fs-5"},"New Password"),r.createElement(v.Z,{type:"password",placeholder:"input new password",ref:l,value:y,onChange:B,onBlur:T}),r.createElement(d.Z.Text,{className:"text-danger",hidden:_},P)),r.createElement(w.Z,{className:"mb-3",controlId:"formBasicPassword"},r.createElement(N.Z,{className:"font-content fs-5"},"Password Confirm"),r.createElement(v.Z,{type:"password",value:k,ref:m,placeholder:"Enter Password Again",onChange:R,onBlur:W}),r.createElement(d.Z.Text,{className:"text-danger",hidden:A},I)),r.createElement(p.Z,{type:"submit",disabled:!b||!S||!L,className:"fs-5 align-self-end",variant:"outline-light bg-deep-gray text-white font-btn fw-bold"},"Confirm Change"))))},_=i.Ry().shape({userPhone:i.Z_().required("required!").test("is-valid-phone","Invalid format!",(function(e){return!!e&&/^0\d{9}$/.test(e)})).min(10,"Words cannot be less than 10!").max(10,"Words should be less than 10!"),userAddress:i.Z_().required("required!").min(6,"Words cannot be less than 6!").max(28,"Words should be less than 28!")}),S=function(){var e=(0,Z.Z)(P),t=(0,r.useState)(!0),a=(0,s.Z)(t,2),i=a[0],g=a[1],w=(0,r.useState)(!1),N=(0,s.Z)(w,2),v=(N[0],N[1],location.pathname.startsWith("/wave-sight")?location.pathname.substring("/wave-sight".length):location.pathname),x=(0,l.fp)(m._,v),y=(0,o.s0)(),C=(0,u.I0)(),S=(0,u.v9)((function(e){return e.user})),B=S.info,T=S.isLogin,V=B||{},k=V._id,I=V.user_name,A=V.user_role,L=V.user_email,R=V.user_address,W=V.user_phone,D=localStorage.getItem("loginToken");(0,r.useEffect)((function(){!T&&D||T||y("/")}),[T]);var U={userPhone:W||"",userAddress:R||""};return r.createElement(r.Fragment,null,r.createElement(b.Z,{matches:x}),r.createElement("div",{className:"bg-gray"},r.createElement("h1",{className:"border d-flex font-title justify-content-center mt-2 text-white"},"Profile")),r.createElement(E.Z,{className:"border m-2 min-vh-100 p-2"},r.createElement(h.Z,null,r.createElement(c.J9,{initialValues:U,validationSchema:_,onSubmit:function(e){C({type:f.v.UPDATE_USER_REQUEST,payload:{user_id:k,formValue:e}}),g((function(e){return!e}))}},(function(e){var t=e.handleSubmit;return r.createElement(d.Z,{onSubmit:t,className:"d-flex flex-column my-2"},r.createElement("fieldset",{disabled:!0},r.createElement(d.Z.Group,{className:"mb-3"},r.createElement(d.Z.Label,{className:"font-content fs-5 fw-bold me-1 mt-1"},"Name :"),r.createElement(d.Z.Control,{id:"disabledTextInput",placeholder:I})),r.createElement(d.Z.Group,{className:"mb-3"},r.createElement(d.Z.Label,{className:"font-content fs-5 fw-bold me-1 mt-1"},"Email :"),r.createElement(d.Z.Control,{id:"disabledTextInput",placeholder:L}))),r.createElement("fieldset",{disabled:i},r.createElement(d.Z.Group,{className:"mb-3"},r.createElement(d.Z.Label,{className:"font-content fs-5 fw-bold me-1 mt-1"},"Phone :"),r.createElement(c.gN,{name:"userPhone"},(function(e){var t=e.field;return r.createElement(d.Z.Control,(0,n.Z)({type:"text"},t))})),r.createElement(c.Bc,{name:"userPhone"},(function(e){return r.createElement(d.Z.Label,{className:"d-flex fw-bold me-1 text-red"},e)}))),r.createElement(d.Z.Group,{className:"mb-3"},r.createElement(d.Z.Label,{className:"font-content fs-5 fw-bold me-1 mt-1"},"Address :"),r.createElement(c.gN,{name:"userAddress"},(function(e){var t=e.field;return r.createElement(d.Z.Control,(0,n.Z)({type:"text"},t))})),r.createElement(c.Bc,{name:"userAddress"},(function(e){return r.createElement(d.Z.Label,{className:"d-flex fw-bold me-1 text-red"},e)})))),i?null:r.createElement(p.Z,{type:"submit",size:"sm",className:"align-self-end bg-beige border border-black font-btn fs-5 fw-bold me-2 text-black"},"Submit"))})),r.createElement("div",{className:"d-flex justify-content-end"},r.createElement(p.Z,{type:"submit",size:"sm",className:"btn-deep-gray font-btn fs-5 fw-bold me-2 text-white",onClick:function(){g((function(e){return!e}))}},i?"Edit":"Cancel"),r.createElement(e,{name:"Change Password",info:{user_id:k,user_role:A},actionType:f.v.UPDATE_PASSWORD_REQUEST,btnSize:5})))))}}}]);